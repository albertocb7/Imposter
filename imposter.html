<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Imposter Game</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; padding: 0; }
    .container { max-width: 400px; margin: 40px auto; background: #fff; padding: 2em; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    h1 { text-align: center; }
    .hidden { display: none; }
    button { width: 100%; padding: 1em; margin-top: 1em; font-size: 1.1em; border: none; border-radius: 5px; background: #0078d7; color: #fff; cursor: pointer; }
    button:disabled { background: #aaa; }
    .word { font-size: 2em; text-align: center; margin: 2em 0; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Imposter Game</h1>
    <div id="setup">
      <label for="players">Number of players:</label>
      <input type="number" id="players" min="3" max="12" value="4">
      <br><br>
      <label for="hintSwitch">Hint for imposter:</label>
      <label class="switch">
        <input type="checkbox" id="hintOption">
        <span class="slider"></span>
      </label>
      <style>
        .switch {
          position: relative;
          display: inline-block;
          width: 40px;
          height: 24px;
          vertical-align: middle;
          margin-left: 8px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
          position: absolute;
          cursor: pointer;
          top: 0; left: 0; right: 0; bottom: 0;
          background-color: #ccc;
          transition: .4s;
          border-radius: 24px;
        }
        .slider:before {
          position: absolute;
          content: "";
          height: 16px;
          width: 16px;
          left: 4px;
          bottom: 4px;
          background-color: white;
          transition: .4s;
          border-radius: 50%;
        }
        input:checked + .slider {
          background-color: #0078d7;
        }
        input:checked + .slider:before {
          transform: translateX(16px);
        }
      </style>
      <button onclick="startGame()">Start Game</button>
    </div>
    <div id="reveal" class="hidden">
      <div id="playerLabel"></div>
      <button onclick="revealWord()" id="revealBtn">See your word</button>
      <div class="word hidden" id="wordDisplay"></div>
      <button onclick="nextPlayer()" id="nextBtn" class="hidden">Next Player</button>
    </div>
    <div id="done" class="hidden">
      <h2>All players have seen their word!</h2>
      <button onclick="restart()">Play Again</button>
    </div>
  </div>
  <script>
    const words = [
      "apple", "mountain", "river", "pencil", "giraffe", "pizza", "ocean", "guitar", "castle", "robot",
      "forest", "camera", "moon", "train", "bottle", "cloud", "diamond", "island", "jungle", "rocket"
    ];
  let playerCount = 0;
  let assignments = [];
  let currentPlayer = 0;
  let imposterIndex = null;
  let word = "";
  let hint = "";

    function startGame() {
      playerCount = parseInt(document.getElementById('players').value);
      if (isNaN(playerCount) || playerCount < 3) {
        alert('Please enter a valid number of players (min 3).');
        return;
      }
      // Pick a random word
      word = words[Math.floor(Math.random() * words.length)];
      // Assign imposter
      assignments = Array(playerCount).fill(word);
      imposterIndex = Math.floor(Math.random() * playerCount);
      assignments[imposterIndex] = "imposter";
      // Generate a hint if option is checked
      const hintChecked = document.getElementById('hintOption').checked;
      if (hintChecked) {
        hint = generateHint(word);
      } else {
        hint = "";
      }
      currentPlayer = 0;
      document.getElementById('setup').classList.add('hidden');
      document.getElementById('reveal').classList.remove('hidden');
      updatePlayerLabel();
      document.getElementById('wordDisplay').classList.add('hidden');
      document.getElementById('nextBtn').classList.add('hidden');
      document.getElementById('revealBtn').disabled = false;
    }

    function updatePlayerLabel() {
      document.getElementById('playerLabel').textContent = `Player ${currentPlayer + 1}, it is your turn.`;
    }

    function revealWord() {
      let displayText = assignments[currentPlayer];
      let hintHtml = "";
      if (displayText === "imposter") {
        displayText = "imposter";
        if (hint) {
          hintHtml = `<div style='margin-top:10px;font-size:1em;color:#0078d7;'>Hint: ${hint}</div>`;
        }
      }
      document.getElementById('wordDisplay').innerHTML = displayText + hintHtml;
      document.getElementById('wordDisplay').classList.remove('hidden');
      document.getElementById('revealBtn').disabled = true;
      document.getElementById('nextBtn').classList.remove('hidden');
    }

    function nextPlayer() {
      document.getElementById('wordDisplay').classList.add('hidden');
      document.getElementById('nextBtn').classList.add('hidden');
      document.getElementById('revealBtn').disabled = false;
      currentPlayer++;
      if (currentPlayer < playerCount) {
        updatePlayerLabel();
      } else {
        document.getElementById('reveal').classList.add('hidden');
        document.getElementById('done').classList.remove('hidden');
      }
    }

    function restart() {
      document.getElementById('done').classList.add('hidden');
      document.getElementById('setup').classList.remove('hidden');
    }

    // Word-to-hint mapping for meaningful clues
    const wordHints = {
      apple: "Can be found in a lunchbox",
      mountain: "Popular with hikers",
      river: "Moves but is not alive",
      pencil: "Common in classrooms",
      giraffe: "Seen at zoos",
      pizza: "Often shared at parties",
      ocean: "Covers a lot of the planet",
      guitar: "Heard in many songs",
      castle: "Appears in fairy tales",
      robot: "Sometimes seen in movies",
      forest: "Home to many creatures",
      camera: "Used on vacations",
      moon: "Visible at night",
      train: "Travels on a path",
      bottle: "Can hold something to drink",
      cloud: "Changes shape in the sky",
      diamond: "Very valuable",
      island: "Not connected to the mainland",
      jungle: "Very dense and green",
      rocket: "Goes very high up"
    };

    function generateHint(word) {
      return wordHints[word] || "No hint available.";
    }
  </script>
</body>
</html>